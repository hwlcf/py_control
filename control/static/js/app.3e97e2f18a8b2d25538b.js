webpackJsonp([1],{NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var r=a("VU/8")({name:"App"},o,!1,function(t){a("o8nZ")},null,null).exports,i=a("/ocq"),s=a("mvHQ"),l=a.n(s),u=a("//Fk"),c=a.n(u),m=a("mtWM"),d=a.n(m),f=a("zL8q"),p=a.n(f),b=a("M4fF"),v=void 0,h=0;function _(){n.default.nextTick(function(){h--,0===(h=Math.max(h,0))&&v&&g()})}var g=a.n(b).a.debounce(function(){v.close(),v=null},300),x=d.a.create({baseURL:"http://localhost:5001/",timeout:2e4});x.interceptors.request.use(function(t){var e;return/get/i.test(t.method)&&(t.params=t.params||{}),(e=document.querySelector("body"))&&(0!==h||v||(v=f.Loading.service({target:e,text:"拼命加载中...",background:"rgba(0,0,0,0.3)"})),h++),t},function(t){return _(),c.a.reject(t)}),x.interceptors.response.use(function(t){_();var e=t.data;return console.log(e),200==e.status?e:(f.Message.error(e.errmsg),c.a.reject())},function(t){return _(),f.Message.error("请求失败"),c.a.reject(t)});var y=x;var w={data:function(){return{form:{model_number:"",is_usable:"",version:"",sn_number:""},formLabelWidth:"120px",dialogFormVisible:!1,tableData:[],page:1,size:10,total:1e3}},mounted:function(){this.getList()},methods:{currentChange:function(t){this.page=t,this.getList()},add:function(){var t,e=this;y({url:"admin/add",method:"post",data:t}).then(function(t){e.$message({type:"success",message:"新增成功!"}),e.getList()})},getList:function(){var t,e=this,a=this.page,n=this.size;(t={page:a,size:n},y({url:"admin/",method:"get",params:t})).then(function(t){e.tableData=t.data_list,e.total=t.total})},del:function(t){var e=this;this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a;(a={mobileuser_id:t},y({url:"admin/delete",method:"get",params:a})).then(function(t){e.$message({type:"success",message:"删除成功!"}),e.getList()})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},edit:function(t){this.form=JSON.parse(l()(t)),this.dialogFormVisible=!0},editSubmit:function(){var t=this,e=JSON.parse(l()(this.form));e.is_usable=e.is_usable?1:0,delete e.create_time,function(t){return y({url:"admin/update",method:"post",data:t})}(e).then(function(e){t.dialogFormVisible=!1,t.$message({type:"success",message:"修改成功!"}),t.getList()})}}},k={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"index"},[a("el-button",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"primary"},on:{click:t.add}},[t._v("新增")]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"model_number",label:"手机型号",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"is_usable",label:"状态",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.is_usable?"可用":"不可用")+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"version",label:"系统版本"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sn_number",label:"SN"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.edit(e.row)}}},[t._v("\n          修改\n        ")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.del(e.row.id)}}},[t._v("\n          删除\n        ")])]}}])})],1),t._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total},on:{"current-change":t.currentChange}})],1),t._v(" "),a("el-dialog",{attrs:{title:"修改",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"手机型号","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.model_number,callback:function(e){t.$set(t.form,"model_number",e)},expression:"form.model_number"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"状态","label-width":t.formLabelWidth}},[a("el-switch",{attrs:{"active-color":"#13ce66"},model:{value:t.form.is_usable,callback:function(e){t.$set(t.form,"is_usable",e)},expression:"form.is_usable"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"系统版本","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.version,callback:function(e){t.$set(t.form,"version",e)},expression:"form.version"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"SN","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.sn_number,callback:function(e){t.$set(t.form,"sn_number",e)},expression:"form.sn_number"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editSubmit}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var L=a("VU/8")(w,k,!1,function(t){a("thQJ")},"data-v-3e33266c",null).exports;n.default.use(i.a);var S=new i.a({routes:[{path:"/",name:"index",component:L}]});a("tvR6");n.default.use(p.a),n.default.config.productionTip=!1,new n.default({el:"#app",router:S,components:{App:r},template:"<App/>"})},o8nZ:function(t,e){},thQJ:function(t,e){},tvR6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.3e97e2f18a8b2d25538b.js.map